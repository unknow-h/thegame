<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>The Game - Multi et Solo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css"> 
</head>
<body>
<div id="notificationArea" aria-live="polite"></div>

<div id="historiqueModal" class="modal" role="dialog" aria-labelledby="historiqueModalTitle" aria-modal="true">
  <div class="modal-content">
    <h3 id="historiqueModalTitle">Historique des cartes jouées</h3>
    <div id="historiqueContenu" class="scrollable-content"></div>
    <button type="button" onclick="document.getElementById('historiqueModal').style.display='none'">Fermer</button>
  </div>
</div>

<header>
  <h1>The Game</h1>
</header>

<main>
  <section id="zoneLobbyAll" class="lobby-section">
    <h2>Liste des parties ouvertes</h2>
    <div id="listeLobbyParties" role="region" aria-live="polite"></div>
    <button type="button" id="btnCreerLobby">Créer une nouvelle partie</button>
  </section>

  <section id="menuAccueil" class="game-section">
    <h2>Bienvenue dans The Game</h2>
    <div class="input-group">
      <label for="pseudo">Ton pseudo:</label>
      <input type="text" id="pseudo" placeholder="Entrez votre pseudo" aria-required="true">
    </div>
    <div class="input-group">
      <label for="customIdPartie">ID de la partie (ex: 123 - optionnel):</label>
      <input type="text" id="customIdPartie" placeholder="Laisser vide pour un ID auto">
    </div>
    <button type="button" id="btnCreer">Créer une partie</button>
    <button type="button" id="btnSolo">Mode Solo</button>
    <hr>
    <div class="input-group">
      <label for="idPartie">ID de la partie à rejoindre:</label>
      <input type="text" id="idPartie" placeholder="Entrez l'ID de la partie" aria-required="true">
    </div>
    <button type="button" id="btnRejoindre">Rejoindre une partie</button>
    <p id="menuMessage" role="alert"></p>
  </section>

  <div id="soloModal" class="modal" role="dialog" aria-labelledby="soloModalTitle" aria-modal="true">
    <div class="modal-content">
      <h2 id="soloModalTitle">Mode Solo</h2>
      <div class="input-group">
        <label for="nbJoueurs">Nombre de joueurs humains :</label>
        <input type="number" id="nbJoueurs" min="1" max="4" value="1">
      </div>
      <div class="modal-actions">
        <button type="button" id="btnLancerSolo">Lancer la partie Solo</button>
        <button type="button" onclick="document.getElementById('soloModal').style.display='none'">Annuler</button>
      </div>
    </div>
  </div>

  <section id="lobby" class="game-section">
    <h2>Lobby de la partie</h2>
    <div id="lobbyJoueurs" role="region" aria-live="polite"></div>
    <div class="lobby-actions">
      <button type="button" id="btnPret">Je suis prêt !</button>
      <button type="button" id="btnDemarrer" style="display:none;">Démarrer la partie</button>
      <button type="button" id="btnQuitterLobby">Quitter la salle</button>
    </div>
    <p id="lobbyMessage" role="alert"></p>
  </section>

  <section id="jeu" class="game-section">
    <div class="game-controls">
      <label for="themeToggle">
        <input type="checkbox" id="themeToggle"> Mode sombre
      </label>
      <button type="button" id="btnAide" aria-label="Aide sur le jeu">❓ Aide</button>
      <button type="button" id="btnHistorique" aria-label="Afficher l'historique des cartes">📜 Historique</button>
    </div>
    <p id="info" role="status" aria-live="polite"></p>
    <p id="cartesRestantesPioche" class="game-status-info">Cartes restantes dans la pioche: --</p>
    <div class="zone" id="piles" role="group" aria-label="Piles de jeu"></div>
    <div class="zone-info">
      <div id="main" role="group" aria-label="Votre main de cartes"></div>
      <button type="button" id="btnFinTour" disabled>Fin du tour</button>
    </div>
    <div id="listeJoueurs" role="region" aria-live="polite" aria-label="Liste des joueurs"></div>
    <p id="message" role="status" aria-live="polite"></p>
  </section>
</main>

<footer>
  </footer>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
<script src="script.js"></script>
</body>
</html>
